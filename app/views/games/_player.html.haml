- show = @names[index].present?
- you ||= false
- classes = ["player-#{index}"]
- classes << :you if you
- classes << :waiting_for if show && @indexes[index] == @waiting_on_index && @enough_players
- classes << :led_trump if @game.last_to_lead_with_trump?(@indexes[index]) 
.player_card{class: classes}
  .trump_shame
    = image_pack_tag 'led-trump.png'
  
  %h3.name
    - if show
      #{display_name(@names[index])}
      - if @indexes[index] == @game.config[:dealer_index]
        = image_tag 'cards-favicon.png', size: "25x25", style: "border: 1px white solid; background-color: white;"
      - if config[:first_to_play] != 'highest' && @indexes[index] == @game.next_player_index(@game.config[:dealer_index]) && !@done_bidding
        %i.fa.fa-play-circle{style: "font-size: 22px;"}
    - else
      Player not present
  
  - if show 
    %h6.score
      #{@total_scores[index]} points
      (#{@places[index]}#{ActiveSupport::Inflector.ordinal(@places[index])})
  
    - bid = @round_scores[index]
    %h6.bid_hint{style: "color: #{bid.last}"}
      = bid.first
    - if show && index == 0 
      %h6.table_bids
        Table Bids: 
        - tb = @game.total_bids
        - nc = @game.num_cards_per_player
        - if tb < nc
          Under
        - elsif tb == nc
          Even
        - else
          Over


    - if false && params[:debug]
      %h6.debug_info
        Seat#: #{index}
        Profile#: #{@indexes[index]}
